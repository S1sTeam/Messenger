# –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π - –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–æ —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –≤ –ø–∞–º—è—Ç–∏ –Ω–∞ PostgreSQL —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–∫–∞–∫ –≤ Telegram).

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL + Prisma)

**–°–æ–∑–¥–∞–Ω–æ:**
- `apps/server/prisma/schema.prisma` - —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `apps/server/src/db.ts` - Prisma Client

**–ú–æ–¥–µ–ª–∏:**
- `User` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (phone, password, username, displayName, bio)
- `UserSettings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `Chat` + `ChatParticipant` - —á–∞—Ç—ã –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∏
- `Message` - —Å–æ–æ–±—â–µ–Ω–∏—è
- `Post` - –ø–æ—Å—Ç—ã
- `Like` + `Repost` + `Comment` - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ—Å—Ç–∞–º–∏

### 2. Backend (Node.js + Express)

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**
- `apps/server/src/routes/auth.ts` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É —Å bcrypt
- `apps/server/src/routes/post.ts` - –ø–æ—Å—Ç—ã —á–µ—Ä–µ–∑ Prisma
- `apps/server/src/routes/chat.ts` - —á–∞—Ç—ã —á–µ—Ä–µ–∑ Prisma
- `apps/server/src/socket/index.ts` - —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î

**–°–æ–∑–¥–∞–Ω–æ:**
- `apps/server/src/routes/settings.ts` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API:**
```javascript
// –ë—ã–ª–æ
POST /api/auth/register { username, password, displayName }
POST /api/auth/login { username, password }

// –°—Ç–∞–ª–æ
POST /api/auth/register { phone, password, displayName }
POST /api/auth/login { phone, password }

// –ù–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
GET /api/settings
PATCH /api/settings/profile
POST /api/settings/password
PATCH /api/settings/preferences
```

### 3. Frontend (React + TypeScript)

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**
- `apps/web/src/pages/LoginPage.tsx` - –≤—Ö–æ–¥ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
- `apps/web/src/store/authStore.ts` - —Ä–∞–±–æ—Ç–∞ —Å phone
- `apps/web/src/pages/SettingsPage.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü–æ–ª–µ "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" ‚Üí "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"
- –§–æ—Ä–º–∞—Ç: `+79991234567` (–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π)
- Username —Ç–µ–ø–µ—Ä—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å
- –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–°–æ–∑–¥–∞–Ω–æ:**
- `QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `DATABASE_SETUP.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL
- `MIGRATION_STATUS.md` - —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏
- `CHANGES_SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å bcrypt (10 —Ä–∞—É–Ω–¥–æ–≤)
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç–∞–º
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π (Prisma)

## üíæ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

| –î–∞–Ω–Ω—ã–µ | –†–∞–Ω—å—à–µ | –°–µ–π—á–∞—Å |
|--------|--------|--------|
| –ê–∫–∫–∞—É–Ω—Ç—ã | ‚ùå –í –ø–∞–º—è—Ç–∏ | ‚úÖ PostgreSQL |
| –°–æ–æ–±—â–µ–Ω–∏—è | ‚ùå –í –ø–∞–º—è—Ç–∏ | ‚úÖ PostgreSQL |
| –ß–∞—Ç—ã | ‚ùå –í –ø–∞–º—è—Ç–∏ | ‚úÖ PostgreSQL |
| –ü–æ—Å—Ç—ã | ‚ùå –í –ø–∞–º—è—Ç–∏ | ‚úÖ PostgreSQL |
| –õ–∞–π–∫–∏/–†–µ–ø–æ—Å—Ç—ã | ‚ùå –í –ø–∞–º—è—Ç–∏ | ‚úÖ PostgreSQL |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∏ | ‚ùå –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å | ‚úÖ PostgreSQL |

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL
```bash
# Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker run --name messenger-postgres -e POSTGRES_PASSWORD=postgres -e POSTGRES_DB=messenger -p 5432:5432 -d postgres:15
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
cd apps/server
npm run prisma:generate
npm run prisma:migrate
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1
cd apps/server
npm run dev

# –¢–µ—Ä–º–∏–Ω–∞–ª 2
cd apps/web
npm run dev
```

### 4. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å –Ω–æ–º–µ—Ä–æ–º `+79991234567`
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ—Å—Ç - –æ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - –æ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î
4. –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞–Ω—É—Ç—Å—è

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö

```bash
cd apps/server
npm run prisma:studio
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è http://localhost:5555 —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –ë–î

## üîÑ –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ —Å—Ç–∞—Ä—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∏–∑ –ø–∞–º—è—Ç–∏ —É–¥–∞–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –ë–î.
–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã —Å –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞.

## üé® –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω –ª–µ–Ω—Ç—ã (Twitter-style)

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**
- `apps/web/src/pages/FeedPage.tsx` - 3-–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞
- `apps/web/src/pages/FeedPage.module.css` - —Å—Ç–∏–ª–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞
- `apps/web/src/styles/global.css` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ --primary –∏ --secondary

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- **–õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ (280px):**
  - –§–∏–ª—å—Ç—Ä—ã (–í—Å–µ, –ü–æ–¥–ø–∏—Å–∫–∏, –ü–æ–ø—É–ª—è—Ä–Ω–æ–µ)
  - –¢—Ä–µ–Ω–¥–æ–≤—ã–µ —Ç–µ–º—ã —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ—Å—Ç–æ–≤
  
- **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ (–≥–∏–±–∫–∞—è):**
  - –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞
  - –õ–µ–Ω—Ç–∞ –ø–æ—Å—Ç–æ–≤
  - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ 600px
  
- **–ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ (350px):**
  - –ü–æ–∏—Å–∫
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ö–æ–≥–æ —á–∏—Ç–∞—Ç—å)
  - –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
- ‚úÖ –ò–∫–æ–Ω–∫–∏ Lucide React
- ‚úÖ –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫–æ–ª–æ–Ω–æ–∫
- ‚úÖ Hover-—ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **SMS-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è** - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–æ–º–µ—Ä–∞ —á–µ—Ä–µ–∑ SMS
2. **–ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. **–ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã** - —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —á–∞—Ç–æ–≤
4. **–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - –ø–æ username –∏–ª–∏ phone
5. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VPS** - –ø–µ—Ä–µ–Ω–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- Username –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –ê–≤–∞—Ç–∞—Ä—ã –ø–æ–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–∫–æ–Ω–∫–∏)
- SMS-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

## üí° –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend:** Node.js, Express, Socket.io, Prisma, PostgreSQL
- **Frontend:** React, TypeScript, Zustand, Framer Motion
- **Auth:** JWT, bcrypt
- **Database:** PostgreSQL 15
- **ORM:** Prisma 5.9

## üìû –§–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:
- ‚úÖ `+79991234567` (–†–æ—Å—Å–∏—è)
- ‚úÖ `+12025551234` (–°–®–ê)
- ‚úÖ `+380991234567` (–£–∫—Ä–∞–∏–Ω–∞)
- ‚ùå `89991234567` (–Ω–µ–≤–µ—Ä–Ω–æ)
- ‚ùå `9991234567` (–Ω–µ–≤–µ—Ä–Ω–æ)

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Å:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º (Socket.io)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –õ–µ–Ω—Ç–æ–π –ø–æ—Å—Ç–æ–≤
- ‚úÖ –õ–∏—á–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º –∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
